<!-- Backtest results template -->
<h1>Backtest Results</h1>
<table>
    <tr>
        <th> Metric </th>
        <th> Value </th>
    </tr>
    <tr>
        <td>Profit/Loss</td>
        <td>{{ backtest.profit_loss }}</td>
    </tr>
    <tr>
        <td>Sharpe Ratio</td>
        <td>{{ backtest.sharpe_ratio }}</td>
    </tr>
    <tr>
        <td>Sortino Ratio</td>
        <td>{{ backtest.sortino_ratio }}</td>
    </tr>
    <tr>
        <td>Maximum Drawdown</td>
        <td>{{ backtest.max_drawdown }}</td>
    </tr>
    <tr>
        <td>Average Trade Return</td>
        <td>{{ backtest.avg_trade_return }}</td>
    </tr>
    <tr>
        <td>Average Trade Duration</td>
        <td>{{ backtest.avg_trade_duration }}</td>
    </tr>
</table>

<h2>Trade History</h2>
<table>
    <tr>
        <th>Trade Date</th>
        <th>Trade Type</th>
        <th>Asset</th>
        <th>Quantity</th>
        <th>Entry Price</th>
        <th>Exit Price</th>
        <th>P/L</th>
    </tr>
    {% for trade in backtest.trades %}
    <tr>
        <td>{{ trade.date }}</td>
        <td>{{ trade.type }}</td>
        <td>{{ trade.asset }}</td>
        <td>{{ trade.quantity }}</td>
        <td>{{ trade.entry_price }}</td>
        <td>{{ trade.exit_price }}</td>
        <td>{{ trade.profit_loss }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Strategy Performance</h2>
<table>
    <tr>
        <th>Strategy</th>
        <th>Profit/Loss</th>
        <th>Sharpe Ratio</th>
    </tr>
    {% for strategy in backtest.strategies %}
    <tr>
        <td>{{ strategy.name }}</td>
        <td>{{ strategy.profit_loss }}</td>
        <td>{{ strategy.sharpe_ratio }}</td>
    </tr>
    {% endfor %}
  </table>
